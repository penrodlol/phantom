---
import Label from '@phantom/ui/label.astro';
import Select from '@phantom/ui/select.astro';
import type { ComponentProps } from 'astro/types';
import { colorSchema } from '..';

type Props = ComponentProps<typeof Select> & { selected: string | undefined };

const { name, selected, ...props } = Astro.props;
---

<div class="mb-3 flex flex-col gap-1">
  <Label for={`playground-${name}`}>Color</Label>
  <!-- @ts-ignore -->
  <Select {...props} {name} id={`playground-${name}`}>
    {
      colorSchema.unwrap()._def.values.map((color) => (
        <option value={color} selected={(!selected && color === 'primary') || color === selected}>
          {color}
        </option>
      ))
    }
  </Select>
</div>
